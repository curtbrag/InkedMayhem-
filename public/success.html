<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <link rel="icon" type="image/svg+xml" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>ðŸ”¥</text></svg>">
    <title>Welcome â€” InkedMayhem</title>
    <meta name="robots" content="noindex, nofollow">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Bebas+Neue&family=Cormorant+Garamond:ital@1&family=Space+Mono&display=swap" rel="stylesheet">
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body {
            background: #060606;
            color: #e8e4df;
            font-family: 'Space Mono', monospace;
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            text-align: center;
            padding: 2rem;
        }
        .container { max-width: 500px; }
        .check {
            font-size: 4rem;
            margin-bottom: 1.5rem;
        }
        h1 {
            font-family: 'Bebas Neue', sans-serif;
            font-size: 3rem;
            letter-spacing: 4px;
            margin-bottom: 1rem;
        }
        h1 span { color: #c22020; }
        p {
            font-size: 0.85rem;
            color: #888;
            line-height: 1.7;
            margin-bottom: 2rem;
        }
        #tierInfo {
            font-size: 0.7rem;
            letter-spacing: 3px;
            text-transform: uppercase;
            color: #c22020;
            margin-bottom: 1.5rem;
            display: none;
        }
        a {
            display: inline-block;
            padding: 0.85rem 2.5rem;
            border: 1px solid #c22020;
            color: #e8e4df;
            font-family: 'Space Mono', monospace;
            font-size: 0.65rem;
            letter-spacing: 3px;
            text-transform: uppercase;
            text-decoration: none;
            transition: all 0.3s;
        }
        a:hover {
            background: #c22020;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="check">âœ¦</div>
        <h1>YOU'RE <span>IN</span></h1>
        <div id="tierInfo"></div>
        <p>Welcome to the inner circle. Your payment was successful and your access is now active. Time to see what you've been missing.</p>
        <a href="/members">Enter Members Area â†’</a>
    </div>
    <script>
    // Refresh user profile from API so their tier is up-to-date in local storage
    (async function() {
        const token = localStorage.getItem('im_token');
        if (!token) return;

        try {
            const res = await fetch('/api/me', {
                headers: { 'Authorization': 'Bearer ' + token }
            });
            const data = await res.json();
            if (data.success && data.user) {
                localStorage.setItem('im_user', JSON.stringify(data.user));
                // Show upgraded tier
                const tierMap = { free: 'FREE', vip: 'INK INSIDER', elite: 'MAYHEM CIRCLE' };
                const tierName = tierMap[data.user.tier] || data.user.tier;
                if (data.user.tier !== 'free') {
                    const tierEl = document.getElementById('tierInfo');
                    tierEl.textContent = tierName + ' member';
                    tierEl.style.display = 'block';
                }
            }
        } catch (e) {
            // Silent fail â€” they'll get refreshed on the members page anyway
        }
    })();
    </script>
</body>
</html>
